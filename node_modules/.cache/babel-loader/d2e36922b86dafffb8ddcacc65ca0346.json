{"ast":null,"code":"var _jsxFileName = \"/Users/leonard-samuelplatzer/Documents/Programming/music/src/components/Music/components/Controls.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport playerContext from '../context/playerContext';\nimport \"../main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Controls() {\n  _s();\n\n  // Global State\n  const {\n    currentSong,\n    songs,\n    nextSong,\n    prevSong,\n    repeat,\n    random,\n    playing,\n    toggleRandom,\n    toggleRepeat,\n    togglePlaying,\n    handleEnd\n  } = useContext(playerContext);\n  const audio = useRef('audio_tag'); // self State\n\n  const [statevolum, setStateVolum] = useState(0.3);\n  const [dur, setDur] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n\n  const fmtMSS = s => {\n    return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + ~~s;\n  };\n\n  const toggleAudio = () => audio.current.paused ? audio.current.play() : audio.current.pause();\n\n  const handleVolume = q => {\n    setStateVolum(q);\n    audio.current.volume = q;\n  };\n\n  const handleProgress = e => {\n    let compute = e.target.value * dur / 100;\n    setCurrentTime(compute);\n    audio.current.currentTime = compute;\n  };\n\n  useEffect(() => {\n    audio.current.volume = statevolum;\n\n    if (playing) {\n      toggleAudio();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [currentSong]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"controls\",\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      onTimeUpdate: e => setCurrentTime(e.target.currentTime),\n      onCanPlay: e => setDur(e.target.duration),\n      onEnded: handleEnd,\n      ref: audio,\n      type: \"audio/mpeg\",\n      preload: \"true\",\n      src: songs[currentSong][0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vlme\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"volum\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-volume-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: Math.round(statevolum * 100),\n        type: \"range\",\n        name: \"volBar\",\n        id: \"volBar\",\n        onChange: e => handleVolume(e.target.value / 100)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"musicControls\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"prev\",\n        onClick: prevSong,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-step-backward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"play\",\n        onClick: () => {\n          togglePlaying();\n          toggleAudio();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: !playing ? '' : 'hide',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-play\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: !playing ? 'hide' : '',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-pause\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"next\",\n        onClick: nextSong,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-step-forward\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progressb\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"currentT\",\n        children: fmtMSS(currentTime)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleProgress,\n        value: dur ? currentTime * 100 / dur : 0,\n        type: \"range\",\n        name: \"progresBar\",\n        id: \"prgbar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"totalT\",\n        children: fmtMSS(dur)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"plsoptions\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: toggleRandom,\n        className: \"random \" + (random ? 'active' : ''),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-random\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: toggleRepeat,\n        className: \"repeat \" + (repeat ? 'active' : ''),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-redo-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Controls, \"mRobl0f+ldzQQQTYm0Bs7KvrpV0=\");\n\n_c = Controls;\nexport default Controls;\n\nvar _c;\n\n$RefreshReg$(_c, \"Controls\");","map":{"version":3,"sources":["/Users/leonard-samuelplatzer/Documents/Programming/music/src/components/Music/components/Controls.js"],"names":["React","useState","useEffect","useRef","useContext","playerContext","Controls","currentSong","songs","nextSong","prevSong","repeat","random","playing","toggleRandom","toggleRepeat","togglePlaying","handleEnd","audio","statevolum","setStateVolum","dur","setDur","currentTime","setCurrentTime","fmtMSS","s","toggleAudio","current","paused","play","pause","handleVolume","q","volume","handleProgress","e","compute","target","value","duration","Math","round"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react'\nimport playerContext from '../context/playerContext'\nimport \"../main.css\"\n\nfunction Controls() {\n\n  // Global State\n  const {\n    currentSong,\n    songs,\n    nextSong,\n    prevSong,\n    repeat,\n    random,\n    playing,\n    toggleRandom,\n    toggleRepeat,\n    togglePlaying,\n    handleEnd,\n\n  } = useContext(playerContext)\n\n  const audio = useRef('audio_tag');\n\n  // self State\n  const [statevolum, setStateVolum] = useState(0.3)\n  const [dur, setDur] = useState(0)\n  const [currentTime, setCurrentTime] = useState(0)\n\n  const fmtMSS = (s) => { return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + ~~(s) }\n\n  const toggleAudio = () => audio.current.paused ? audio.current.play() : audio.current.pause();\n\n  const handleVolume = (q) => {\n    setStateVolum(q);\n    audio.current.volume = q;\n  }\n\n  const handleProgress = (e) => {\n    let compute = (e.target.value * dur) / 100;\n    setCurrentTime(compute);\n    audio.current.currentTime = compute\n  }\n\n  useEffect(() => {\n    audio.current.volume = statevolum;\n    if (playing) { toggleAudio() }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentSong])\n\n  return (\n    <div className=\"controls\">\n      <audio\n\n        onTimeUpdate={(e) => setCurrentTime(e.target.currentTime)}\n        onCanPlay={(e) => setDur(e.target.duration)}\n        onEnded={handleEnd}\n\n        ref={audio}\n        type=\"audio/mpeg\"\n        preload='true'\n        src={songs[currentSong][0]} />\n      <div className=\"vlme\">\n\n        <span className=\"volum\"><i className=\"fas fa-volume-down\"></i></span>\n        <input value={Math.round(statevolum * 100)} type=\"range\" name=\"volBar\" id=\"volBar\" onChange={(e) => handleVolume(e.target.value / 100)} />\n\n      </div>\n      <div className=\"musicControls\">\n        <span className=\"prev\" onClick={prevSong}><i className=\"fas fa-step-backward\"></i></span>\n\n        <span className=\"play\" onClick={() => { togglePlaying(); toggleAudio(); }}>\n          <span className={!playing ? '' : 'hide'}><i className=\"fas fa-play\"></i></span>\n          <span className={!playing ? 'hide' : ''}><i className=\"fas fa-pause\"></i></span>\n        </span>\n\n        <span className=\"next\" onClick={nextSong}><i className=\"fas fa-step-forward\"></i></span>\n      </div>\n      <div className=\"progressb\">\n        <span className=\"currentT\">{fmtMSS(currentTime)}</span>\n        <input\n          onChange={handleProgress}\n          value={dur ? (currentTime * 100) / dur : 0}\n          type=\"range\" name=\"progresBar\" id=\"prgbar\" />\n        <span className=\"totalT\">{fmtMSS(dur)}</span>\n\n      </div>\n      <div className=\"plsoptions\">\n\n        <span onClick={toggleRandom} className={\"random \" + (random ? 'active' : '')}>\n          <i className=\"fas fa-random\"></i>\n        </span>\n        <span onClick={toggleRepeat} className={\"repeat \" + (repeat ? 'active' : '')}>\n          <i className=\"fas fa-redo-alt\"></i>\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default Controls\n"]},"metadata":{},"sourceType":"module"}